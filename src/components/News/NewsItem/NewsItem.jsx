// üéØ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º React (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è JSX)
import React from 'react';
// üéØ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∏–ª–∏ –∏–∑ CSS –º–æ–¥—É–ª—è
import styles from './NewsItem.module.css';

// üéØ –°–û–ó–î–ê–ï–ú –ö–û–ú–ü–û–ù–ï–ù–¢ NewsItem (–æ–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏)
const NewsItem = ({
  title = '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è', // üéØ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
  description = '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è', // üéØ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è
  date = '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞', // üéØ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥–∞—Ç—ã
  imageUrl = '', // üéØ –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  readMoreUrl = '#', // üéØ # –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Å—ã–ª–∫–∏
}) => {
  // üéØ –î–ï–ë–ê–ì: –õ–æ–≥–∏—Ä—É–µ–º —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  // –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  console.log('üéØ NewsItem –ø–æ–ª—É—á–∏–ª –ø—Ä–æ–ø—Å—ã:', {
    –∑–∞–≥–æ–ª–æ–≤–æ–∫: title,
    –æ–ø–∏—Å–∞–Ω–∏–µ_–¥–ª–∏–Ω–∞: description.length,
    –µ—Å—Ç—å_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: !!imageUrl,
    url_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: imageUrl || '–Ω–µ—Ç',
    –¥–∞—Ç–∞: date,
    —Å—Å—ã–ª–∫–∞: readMoreUrl,
  });

  // üéØ –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø –î–ê–¢–´
  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç –î–î/–ú–ú/–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä: 15/03/2023)
  const formatDate = dateString => {
    try {
      // üéØ –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞—Ç–∞ –≤–æ–æ–±—â–µ
      if (!dateString) return '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';

      // üéØ –®–ê–ì 2: –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Date –∏–∑ —Å—Ç—Ä–æ–∫–∏
      const dateObj = new Date(dateString);

      // üéØ –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –¥–∞—Ç–∞ –≤–∞–ª–∏–¥–Ω–∞ (–Ω–µ Invalid Date)
      if (isNaN(dateObj.getTime())) {
        console.warn('‚ö†Ô∏è –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –¥–∞—Ç–∞:', dateString);
        return dateString; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å –µ—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å
      }

      // üéØ –®–ê–ì 4: –ü–æ–ª—É—á–∞–µ–º –¥–µ–Ω—å, –º–µ—Å—è—Ü –∏ –≥–æ–¥
      const day = dateObj.getDate().toString().padStart(2, '0');
      // getDate() - –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
      // toString() - –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ —Å—Ç—Ä–æ–∫—É
      // padStart(2, '0') - –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–ª—å –≤ –Ω–∞—á–∞–ª–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (1 ‚Üí "01")

      const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');
      // getMonth() - –º–µ—Å—è—Ü (0-11), –ø–æ—ç—Ç–æ–º—É +1

      const year = dateObj.getFullYear();
      // getFullYear() - –≥–æ–¥ (4 —Ü–∏—Ñ—Ä—ã)

      // üéØ –®–ê–ì 5: –°–æ–±–∏—Ä–∞–µ–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î/–ú–ú/–ì–ì–ì–ì
      return `${day}/${month}/${year}`;
    } catch (error) {
      // üéØ –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
      console.error('‚ùå –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã:', error);
      return dateString; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É
    }
  };

  // üéØ –†–ï–ù–î–ï–† –ö–û–ú–ü–û–ù–ï–ù–¢–ê - —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  return (
    // üéØ li - —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ (ListItem)
    // –ö–∞–∂–¥–∞—è –Ω–æ–≤–æ—Å—Ç—å - —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ NewsList
    // className={styles.newsItem} - –ø—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∏–∑ CSS –º–æ–¥—É–ª—è
    <li className={styles.newsItem}>
      {/* üéØ –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø */}
      {/* –û—Ç–¥–µ–ª—å–Ω—ã–π div –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—É—á—à–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ */}
      <div className={styles.imageContainer}>
        {/* üéØ –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï –ù–û–í–û–°–¢–ò */}
        <img
          className={styles.newsImage}
          // üéØ src - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
          // –ï—Å–ª–∏ imageUrl –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
          src={
            imageUrl ||
            'https://placehold.co/400x300/ff6b08/white?text=PetLove+News'
          }
          // üéØ alt - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
          alt={title}
          // üéØ loading="lazy" - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
          // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
          loading="lazy"
          // üéØ –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö –ó–ê–ì–†–£–ó–ö–ò –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø
          // –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å (–æ—à–∏–±–∫–∞ 404, CORS –∏ —Ç.–¥.)
          onError={e => {
            console.log('üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å, URL:', imageUrl);
            // üéØ –ó–∞–º–µ–Ω—è–µ–º —Å–ª–æ–º–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ fallback
            e.target.src =
              'https://placehold.co/400x300/cccccc/666666?text=–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ+–Ω–µ+–¥–æ—Å—Ç—É–ø–Ω–æ';
            // üéØ –í–∞–∂–Ω–æ: —É–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
            // –ï—Å–ª–∏ fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–∂–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
            e.target.onerror = null;
          }}
          // üéØ –û–ë–†–ê–ë–û–¢–ö–ê –£–°–ü–ï–®–ù–û–ô –ó–ê–ì–†–£–ó–ö–ò
          onLoad={() => {
            console.log('‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
          }}
        />
      </div>

      {/* üéØ –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –¢–ï–ö–°–¢–û–í–û–ì–û –ö–û–ù–¢–ï–ù–¢–ê */}
      <div className={styles.newsContent}>
        {/* üéØ –ó–ê–ì–û–õ–û–í–û–ö –ù–û–í–û–°–¢–ò */}
        {/* h3 - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç—Ä–µ—Ç—å–µ–≥–æ —É—Ä–æ–≤–Ω—è (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ) */}
        <h3 className={styles.newsTitle}>
          {title} {/* üéØ –í—Å—Ç–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ–ø—Å–∞ title */}
        </h3>

        {/* üéØ –û–ü–ò–°–ê–ù–ò–ï –ù–û–í–û–°–¢–ò */}
        {/* p - –ø–∞—Ä–∞–≥—Ä–∞—Ñ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ */}
        <p className={styles.newsDescription}>
          {description} {/* üéØ –í—Å—Ç–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ–ø—Å–∞ description */}
        </p>
        <div className={styles.newsDateBlock}>
          {/* üéØ –î–ê–¢–ê –ü–£–ë–õ–ò–ö–ê–¶–ò–ò */}
          <p className={styles.newsDate}>
            {/* üéØ –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º */}
            {formatDate(date)}
          </p>

          {/* üéØ –°–°–´–õ–ö–ê "READ MORE" */}
          {/* a - —Ç–µ–≥ –¥–ª—è –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ */}
          <a
            className={styles.newsLink}
            href={readMoreUrl} // üéØ URL –∏–∑ –ø—Ä–æ–ø—Å–æ–≤
            target="_blank" // üéØ –¢–†–ï–ë–û–í–ê–ù–ò–ï –¢–ó: –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
            rel="noopener noreferrer" // üéØ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨: –∑–∞—â–∏—Ç–∞ –æ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
            // üéØ –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–õ–ò–ö–ê
            onClick={e => {
              // üéØ –ü–†–û–í–ï–†–ö–ê: –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –ø—É—Å—Ç–∞—è –∏–ª–∏ #, –æ—Ç–º–µ–Ω—è–µ–º –ø–µ—Ä–µ—Ö–æ–¥
              if (readMoreUrl === '#' || !readMoreUrl) {
                e.preventDefault(); // üéØ –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
                console.warn('‚ö†Ô∏è –ü—É—Å—Ç–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–∏:', title);
              } else {
                console.log(
                  'üîó –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ:',
                  readMoreUrl
                );
              }
            }}
          >
            Read more {/* üéØ –¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏ */}
          </a>
        </div>
      </div>
    </li>
  );
};

// üéØ –≠–ö–°–ü–û–†–¢–ò–†–£–ï–ú –ö–û–ú–ü–û–ù–ï–ù–¢
// export default - –¥–µ–ª–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö
export default NewsItem;
